<p-toast></p-toast>
<p-confirmDialog [style]="{width: '50vw'}"></p-confirmDialog>

<div class="fluid-container mt-4 ml-4">
	<div class="row">
		<div class="col-md-6">
      <div class="card">
        <div class="card-header">View Customers</div>
          <div class="card-body">
          <div class = "p-2">
            Search:
            <span class="p-input-icon-left">
              <i class="pi pi-search"></i>
              <input type="text" class="p-inputtext-sm" pInputText name="search" (keyup) = "search($event)">
            </span>
          </div>

          <div class="fluid-container rounded border" style="height:68vh;overflow-y: scroll;">
            <div class="cust_row row p-2 border" 
              *ngFor = "let cust of customerData" 
              (click) = "selectCustomer(cust)"
              >
              <div class="col-8">
                <div>{{cust.jpname}}</div>
                <div><small>GST: {{cust.jppgst}}</small></div>
              </div>
              <div class="col-3">
                <div>Balance: 0</div>
                <div><small>Mob: {{cust.jpmobno}}</small></div>
              </div>
              <div class="col">
                <i class="pi pi-trash" style="font-size: 1rem" (click) = "delete(cust)"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
			
		</div>
		<div class="col-md-5">
			<div class="card" style="height:87vh;">
				<div class="card-header">Add/Update Customer Details</div>
				<div class="card-body">
          <div class="form-group row mb-2">
            <label for="cust-name" class="col-sm-4 col-form-label font-bold block">Customer Name</label>
            <div class="col-sm">
              <input type="text" class="form-control p-inputtext-sm borderless" pInputText 
                [(ngModel)] = "customerDetails.jpname">
            </div>
          </div>
          
          <div class="form-group row mb-2">
            <label for="cust-name" class="col-sm-4 col-form-label font-bold block">GST</label>
            <div class="col-sm">
              <input type="text" class="form-control p-inputtext-sm borderless" pInputText
                [(ngModel)] = "customerDetails.jppgst">
            </div>
          </div>

          <div class="form-group row mb-2">
            <label for="cust-name" class="col-sm-4 col-form-label font-bold block small">Mobile</label>
            <div class="col-sm">
              <input type="text" class="form-control p-inputtext-sm borderless" pInputText 
                pKeyFilter="int" [(ngModel)] ="customerDetails.jpmobno">
            </div>
          </div>

          <div class="form-group row mb-2">
            <label for="cust-name" class="col-sm-4 col-form-label font-bold block">Balance</label>
            <div class="col-sm">
              <input type="text" class="form-control p-inputtext-sm borderless" pInputText 
                pKeyFilter="int" [(ngModel)] ="customerDetails.jpbaln">
            </div>
          </div>

          <div class="form-group row mb-2 mt-2">
            <label for="cust-name" class="col-sm-4 col-form-label font-bold block">Address</label>
            <div class="col-sm">
              <textarea rows="5" class="form-control" pInputTextarea 
                [(ngModel)]="customerDetails.jpadd"></textarea>
            </div>
          </div>

          <div class="d-flex justify-content-center mt-4">
            <div class="mr-2">
              <p-button label="Save" styleClass="p-button-help p-button-sm" (click)="save()"></p-button>  
            </div>
            <div>
              <p-button label="Clear" styleClass="p-button-help p-button-sm" (click)="clear()"></p-button>  
            </div>
          </div>

          <input type="text" class="form-control p-inputtext-sm borderless" pInputText 
            pKeyFilter="int" [(ngModel)] ="customerDetails.jpid"
            style="visibility: hidden;">
				</div>
			</div>
		</div>
	</div>
</div>