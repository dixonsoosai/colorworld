<p-toast></p-toast>
<p-confirmDialog [style]="{width: '50vw'}"></p-confirmDialog>

<div class="grid p-fluid">
	<div class="col-12 md:col-7">
		<p-card header="View Customers">
			<div class="field grid">
				<label htmlFor="name3" class="col-12 mb-2 md:col-2 md:mb-0">Search</label>
				<div class="col-12 md:col-10">
					<span class="p-input-icon-left">
						<i class="pi pi-search"></i>
						<input type="text" pInputText (keyup)="search($event)" />
					</span>
				</div>
			</div>

			<div class="customer-view" style="overflow-y: scroll;height: 53vh;">
				<div class="grid cust_row p-2 border" *ngFor="let cust of customerData" (click)="selectCustomer(cust)">
					<div class="col-8">
					  <div>{{cust.jpname}}</div>
					  <div><small>GST: {{cust.jppgst}}</small></div>
					</div>
					<div class="col-3">
					  <div>Balance: 0</div>
					  <div><small>Mob: {{cust.jpmobno}}</small></div>
					</div>
					<div class="col">
					  <i class="pi pi-trash" style="font-size: 1rem" (click)="delete(cust)" pTooltip="Delete" tooltipPosition="bottom" ></i>
					</div>
				  </div>
			</div>
			
		</p-card>
	</div>

	<div class="col-12 md:col-5">
		<p-card header="Add/Update Customers">
			<div class="field grid">
				<label htmlFor="customerName" class="col-12 mb-2 md:col-3 md:mb-0 font-bold">Customer Name</label>
				<div class="col-12 md:col-9">
					<input pInputText type="text"  [(ngModel)]="customerDetails.jpname"/>
				</div>
			</div>
			<div class="field grid">
				<label htmlFor="gst" class="col-12 mb-2 md:col-3 md:mb-0 font-bold">GST</label>
				<div class="col-12 md:col-9">
					<input pInputText type="text" [(ngModel)]="customerDetails.jppgst"/>
				</div>
			</div>
			<div class="field grid">
				<label htmlFor="mobile" class="col-12 mb-2 md:col-3 md:mb-0 font-bold">Mobile</label>
				<div class="col-12 md:col-9">
					<p-inputNumber mode="decimal" inputId="withoutgrouping" [useGrouping]="false" [(ngModel)]="customerDetails.jpmobno"></p-inputNumber>
				</div>
			</div>
			<div class="field grid">
				<label htmlFor="balance" class="col-12 mb-2 md:col-3 md:mb-0 font-bold">Balance</label>
				<div class="col-12 md:col-9">
					<p-inputNumber mode="decimal" inputId="withoutgrouping" [useGrouping]="false" [(ngModel)]="customerDetails.jpbaln"></p-inputNumber>
				</div>
			</div>
			<div class="field grid">
				<label htmlFor="address" class="col-12 mb-2 md:col-3 md:mb-0 font-bold">Address</label>
				<div class="col-12 md:col-9">
					<textarea rows="5" cols="30" pInputTextarea [autoResize]="true" [(ngModel)]="customerDetails.jpadd"></textarea>
				</div>
			</div>

			<div class="flex justify-content-center gap-3">
				<p-button label="Save" (click)="save()"></p-button>
				<p-button label="Clear" (click)="clear()"></p-button>
			</div>
		</p-card>
	</div>

</div>
